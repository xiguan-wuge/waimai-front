import{c as ie,t as T,n as ee,m as X,a as Ce,w as Re,b as _e,d as ye,o as ke,e as Je,i as te,f as I,p as be,g as q,h as ne,j as Se,u as Ee}from"./userRouterHook-d892abf0.js";/* empty css              */import{d as Ue,s as De,a as Be,S as xe}from"./ShopCart-675d56e8.js";import{u as Ve,a as ce}from"./use-touch-854fcecf.js";import{d as N,r as M,j as z,c as p,w as V,k as le,l as Pe,m as Te,q as Ie,e as b,s as re,o as R,a as J,b as o,v as L,u as O,t as C,x as ae,F as se,f as oe,y as Oe,p as Ye,h as Me,_ as Ge}from"./index-5c713276.js";const[ue,Y]=ie("swipe"),Xe={loop:T,width:ee,height:ee,vertical:Boolean,autoplay:X(0),duration:X(500),touchable:T,lazyRender:Boolean,initialSwipe:X(0),indicatorColor:String,showIndicators:T,stopPropagation:T},de=Symbol(ue);var qe=N({name:ue,props:Xe,emits:["change","dragStart","dragEnd"],setup(t,{emit:_,slots:i}){const A=M(),h=M(),e=z({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let y=!1;const f=Ve(),{children:w,linkChildren:d}=Ce(de),s=p(()=>w.length),r=p(()=>e[t.vertical?"height":"width"]),v=p(()=>t.vertical?f.deltaY.value:f.deltaX.value),u=p(()=>e.rect?(t.vertical?e.rect.height:e.rect.width)-r.value*s.value:0),E=p(()=>r.value?Math.ceil(Math.abs(u.value)/r.value):s.value),U=p(()=>s.value*r.value),l=p(()=>(e.active+s.value)%s.value),Q=p(()=>{const a=t.vertical?"vertical":"horizontal";return f.direction.value===a}),ve=p(()=>{const a={transitionDuration:`${e.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${e.offset}px)`};if(r.value){const c=t.vertical?"height":"width",n=t.vertical?"width":"height";a[c]=`${U.value}px`,a[n]=t[n]?`${t[n]}px`:""}return a}),fe=a=>{const{active:c}=e;return a?t.loop?q(c+a,-1,s.value):q(c+a,0,E.value):c},j=(a,c=0)=>{let n=a*r.value;t.loop||(n=Math.min(n,-u.value));let g=c-n;return t.loop||(g=q(g,u.value,0)),g},k=({pace:a=0,offset:c=0,emitChange:n})=>{if(s.value<=1)return;const{active:g}=e,m=fe(a),x=j(m,c);if(t.loop){if(w[0]&&x!==u.value){const G=x<u.value;w[0].setOffset(G?U.value:0)}if(w[s.value-1]&&x!==0){const G=x>0;w[s.value-1].setOffset(G?-U.value:0)}}e.active=m,e.offset=x,n&&m!==g&&_("change",l.value)},P=()=>{e.swiping=!0,e.active<=-1?k({pace:s.value}):e.active>=s.value&&k({pace:-s.value})},Ae=()=>{P(),f.reset(),I(()=>{e.swiping=!1,k({pace:-1,emitChange:!0})})},H=()=>{P(),f.reset(),I(()=>{e.swiping=!1,k({pace:1,emitChange:!0})})};let K;const D=()=>clearTimeout(K),B=()=>{D(),+t.autoplay>0&&s.value>1&&(K=setTimeout(()=>{H(),B()},+t.autoplay))},S=(a=+t.initialSwipe)=>{if(!A.value)return;const c=()=>{var n,g;if(!te(A)){const m={width:A.value.offsetWidth,height:A.value.offsetHeight};e.rect=m,e.width=+((n=t.width)!=null?n:m.width),e.height=+((g=t.height)!=null?g:m.height)}s.value&&(a=Math.min(s.value-1,a),a===-1&&(a=s.value-1)),e.active=a,e.swiping=!0,e.offset=j(a),w.forEach(m=>{m.setOffset(0)}),B()};te(A)?re().then(c):c()},W=()=>S(e.active);let Z;const he=a=>{!t.touchable||a.touches.length>1||(f.start(a),y=!1,Z=Date.now(),D(),P())},me=a=>{t.touchable&&e.swiping&&(f.move(a),Q.value&&(!t.loop&&(e.active===0&&v.value>0||e.active===s.value-1&&v.value<0)||(be(a,t.stopPropagation),k({offset:v.value}),y||(_("dragStart",{index:l.value}),y=!0))))},$=()=>{if(!t.touchable||!e.swiping)return;const a=Date.now()-Z,c=v.value/a;if((Math.abs(c)>.25||Math.abs(v.value)>r.value/2)&&Q.value){const g=t.vertical?f.offsetY.value:f.offsetX.value;let m=0;t.loop?m=g>0?v.value>0?-1:1:0:m=-Math[v.value>0?"ceil":"floor"](v.value/r.value),k({pace:m,emitChange:!0})}else v.value&&k({pace:0});y=!1,e.swiping=!1,_("dragEnd",{index:l.value}),B()},ge=(a,c={})=>{P(),f.reset(),I(()=>{let n;t.loop&&a===s.value?n=e.active===0?0:a:n=a%s.value,c.immediate?I(()=>{e.swiping=!1}):e.swiping=!1,k({pace:n-e.active,emitChange:!0})})},pe=(a,c)=>{const n=c===l.value,g=n?{backgroundColor:t.indicatorColor}:void 0;return b("i",{style:g,class:Y("indicator",{active:n})},null)},we=()=>{if(i.indicator)return i.indicator({active:l.value,total:s.value});if(t.showIndicators&&s.value>1)return b("div",{class:Y("indicators",{vertical:t.vertical})},[Array(s.value).fill("").map(pe)])};return ce({prev:Ae,next:H,state:e,resize:W,swipeTo:ge}),d({size:r,props:t,count:s,activeIndicator:l}),V(()=>t.initialSwipe,a=>S(+a)),V(s,()=>S(e.active)),V(()=>t.autoplay,B),V([Re,_e,()=>t.width,()=>t.height],W),V(ye(),a=>{a==="visible"?B():D()}),le(S),Pe(()=>S(e.active)),ke(()=>S(e.active)),Te(D),Ie(D),Je("touchmove",me,{target:h}),()=>{var a;return b("div",{ref:A,class:Y()},[b("div",{ref:h,style:ve.value,class:Y("track",{vertical:t.vertical}),onTouchstartPassive:he,onTouchend:$,onTouchcancel:$},[(a=i.default)==null?void 0:a.call(i)]),we()])}}});const Le=ne(qe),[Ne,ze]=ie("swipe-item");var Fe=N({name:Ne,setup(t,{slots:_}){let i;const A=z({offset:0,inited:!1,mounted:!1}),{parent:h,index:e}=Se(de);if(!h)return;const y=p(()=>{const d={},{vertical:s}=h.props;return h.size.value&&(d[s?"height":"width"]=`${h.size.value}px`),A.offset&&(d.transform=`translate${s?"Y":"X"}(${A.offset}px)`),d}),f=p(()=>{const{loop:d,lazyRender:s}=h.props;if(!s||i)return!0;if(!A.mounted)return!1;const r=h.activeIndicator.value,v=h.count.value-1,u=r===0&&d?v:r-1,E=r===v&&d?0:r+1;return i=e.value===r||e.value===u||e.value===E,i}),w=d=>{A.offset=d};return le(()=>{re(()=>{A.mounted=!0})}),ce({setOffset:w}),()=>{var d;return b("div",{class:ze(),style:y.value},[f.value?(d=_.default)==null?void 0:d.call(_):null])}}});const Qe=ne(Fe),je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAAfZJREFUSA3FV79Lw1AQvktarVSpDh3q2KkiSju4iAUXBf8Ai4sVEREUaicHdycXUXAVdeskuDoX3QRRB8FF0UEHbVNJf+W8xFboI6axDbwH4fXefXf35bjcuyJ4tCg32qO90K4BkAYEUgBP+iOwhanbilMIn5PyP7qf4JSxbAjAANrUXhVTzDr5sRBOALc6A2FRxDKJtHgmyp4QoNy8CkRDonPbMwHkCQEo3IUEv65FTwhoOkVcRxSAnhCAGsYEv65FTwjwpxd3HVEAekIAkGYFv67Frgnoh2NR7jsTriMKQN/n3gi3jdaFZh9BzPf41aXA+s1jq7ZVKldrO0Dc+zpctp2QGSn8DU9VqvVj9pu0813cT4TB0LcNggU7vdszWwK/xkSTzd9ipgxDb6ocd9HOBCOCzlk7HehLbjgSsDLh6L4zJREE2HJV0/MXXRdhZxQaVkgxqQS4fxSkEuAb7E0qATDwXSoB9KlyM6D463IzEICoRAIIBVw7/5JWAwj4bHYDaQS4Gz5JJYAoOQM8Q8jNABG1rwFrMGncG15viqJaGXC8js2pqBk4lL1vmXroKD5Y1MrTPDutMGaOi0ptYtvvWApC8NLE2RKw3rwxkv3lDJevP1h3Zj6lg8RwjSopJJpheRyAwkyo186Wi++B/7hmMHNVMPXf9RiUq9TUS3MAAAAASUVORK5CYII=",He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAAutJREFUSA3FV01oE0EUfm82SVPbpBXsoUUvvVhbKu1BpGLFi4JHDwa9VIpIQSXNyYP3HsSLjdCrqNRDBBG9eRKUSg+iWJoeREEUi9SD3fyYpMk838w2abJusi0u2YEl++b9ffPlzZtZBI8GpUZC2R90RwJMAQIJwIfd/XATY6ulVikCrZR70VnJKa59CEACzWbXhRITreJoi1YGu9XplbMxophUj/JjEFNu/p4AoNQFA4B6EaESnV19ox6dmGh/WwCAme5RiQjQdEto13vCQLZA/SowAvy0J3CTPQEAZRyyEtFnt4R2vScAuADHrMC4Yk/gJnsCAJDOqkQE9NotoV3/3wAKC6OD3HeO8f7LR8P7XtkTuMmBzbtHuG00Di4myQGXQkHjcvjaypdGbaNU3CrPqfJnEIs48y7fqHWXHDshIxJAdLK0VXnAIXRTsYfKJMf7QBZuSYKLXP+5YIDm7Da7kWsAehJrvHBrUPJ41JTmJoM4UZ2zMyVlQatU80GC6c4ba1+rtvW/dj+lY58Cs/Yo0jl53bEGML6sG4pmoj5awzvmeOO/BDBORRLpJw0qF4EIwhz7arawdL7GgItPTV3PVG3S4aWVXTY5cqki5WPePUOODDjE83SKGYiogNw/TF8AcOEeUgAMoA1fAPCWPagAgMRfvgAgtBjAgOETA2QxIIIVnxgA1H9BGAbbD4AWRvmWRF3cQ0yceZFvew3kKqBXj4DfVR22HUBFlvUW5F7wzRcAAoTFAPrEQLUJcS/QDOz5LNg53TDHQT6SECkBocVI/P2GotRtqCakLiBEpGvAEcD2caxuudyumw3q4kATIOUEQfG2OT/8XCA+DQTEcseB7nWMvf1j9+SkmJkfPqzmhTA0A7izIru5OreRPzLSjhcSuj/Wm8kWTzPEK+x5jovK+DdCsxnMRUVkQB37jgzolW9fyZqGmP7wm3XP1JO7Nz5QplIMic6wfJQJ7mNAHU6+vKhP/OEar945/gJfMgBJ+0UqowAAAABJRU5ErkJggg==",Ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA3CAYAAAC/+UKPAAAAAXNSR0IArs4c6QAABUJJREFUaAXdm8uPFUUUxu9FjGAyQkSCCS+JYaGgAhoIMaASXBD5BwxG3emKuDIuXPhYEAwbCCuIuAAfKCRqlDGRKJIAQiLK+EYZYIwLwIwMD3kJ19+56RqbmqrqU9V37vTlJF+q6tR51NdVXV23e6bWaDTGgw3gNPDJFTp6wSvg5lqnCyS2gRh5q9M512F7ARJjIog0sJ1Rr9ePR/hUynQUozkfOaI69ssifSplLqQPJYxoXoJPZVyE9JqE0cxM8KmWC/f182AgYjfrqxaDuNHI/dkUCMusTwCDOuq3gKPgJpAX2cy62Mxi94N8jBGr5wk6B8HF+J6O2Y7O+ei+deirpmowOVfzgxqdb3jqB9G7SB/w2FdOzcRdZFCyYW8CG7Wkn64ck7gByTlkQYa7NMt7Eca743JU2vq0hnQXFAZAoW2lqf4/uAHZsYPCJnAWg9+CRp3Vua+QdMYnZpc+hY8cU6eDNzJ/TdGN0VQwDXymccCmBywBj4D9QCPvaYxq7H4vAq28kA+K0yGloxBuCvZTlT735XymK3wuYNOlnelvTHBF2W/Z7LHazia30R+mI183OkfZi52cIYycNJVA+YncrlrSMcv7HiupLMHhkJ1W0IVW29V8V5Qq0lwdmb1j4qCQwSWX2eZnQ+GuNvncsnzcatvNMyg+FaWKdOatnW2b9A+ZfyuLawT7wgq41Grbze1M3iVRxpCW46hGprFZjDOGJJJnfJ9pt6g8mK2+Zjjy3U5lXkHsLaY/hrR2piW2fVZv9RK3l/YScoa4/En/LtCUkKGxMeV3pqIo7SXeatL2JlZ0P7/DypBboilq0jjJ1for8ysq7rcMfrbaZZv7rABFpAeXtvipSWdJtO/THrYGJfdcULgvrzucBI1rtYmmHz+5wDNM21H+woT1OPQ6FQnWAK2sxlA2tWXgpMKpG5spQE5jOwrsv6Z/MXgM9BTYvmqzi/rlRPAVBLhuqdgBK9iezUz/mB9X7PKO2czyeUaqfsAmLAOJJf0rPvLqpVNkyNKWgUeR5qr9i89wnLCG4yKuZbw7XIFHu5QFOlniDzls5Ih3zqFvp0pWoTweN0L4fV/iFNK+4+hOEi33JaqSPmp5ZwP3/ba2j55V4lluLDy2xgD5SG/LNRRd5aK3xzt6plnCct/85BiePPNnOfSVU0WTzhj4fnF1xBJP2ciEtxz4n8kuQL54jiU+J69oY11+RZ0AH7Eag4/VqGOoIQCxu6n/btoVK4X8Uoh/6RtX0vIm4BEC+pa4L1e79MLpyVCyJNJZwFWhwCPc1wjlTybNbH9A4M2h4CPYF/xCkrqRGT7PUpEXC0+BySD5IuJbVmR2+8FW8GHZYDecf9Lu7boK7OiT0C8CE4A8Or7iFvibsqVCntsI+ACQD+1HyNHb0gSaYDIIsAlcBXm5RGMdGKuJU2RDnDvB28A+Asvrovb90CGZEC76KrkHm5g/wxzCH395d3YchGTlEMfhUDCC9aFR5PqcbzC0YyLOrlwsX1VW2oPamEl2JLgV/OMbgaU/Rdv+WzRVXvwWWrFCTdm5C6XMI2Yu0bX36x3YziwcjdvgUbfaqVXZliGtJWxGF2tv/MaZiqJU2ZYhfVgxCGMiLxRTHy3HTBBFeVRhk36C4vnYR4K9miTYdGMvn2xT5GOcLisdtyvt0s3YURYAeR6H5Cyd96Znqckf+rweSpD19VGOL5NH7UuiJ4Dvn15O0LdYHcxjSIxR4E3gE3mGt/dVFQkngtfAXnAY7AYvAdXG4uE6RE285UA+9PUD+fMoOY29DORoqpb/AOM53H77aM4eAAAAAElFTkSuQmCC",F=t=>(Ye("data-v-2bfc6215"),t=t(),Me(),t),We={class:"detail no-scrollbar"},Ze={class:"banner"},$e=["src"],et={class:"food-detail"},tt={class:"name"},at={class:"prompt"},st={class:"count"},ot={class:"price"},it={key:0,src:je,alt:""},nt={key:1,src:He,alt:""},ct={class:"add-cart"},lt=F(()=>o("img",{src:Ke,alt:""},null,-1)),rt=F(()=>o("span",null,"加入购物车",-1)),ut=[lt,rt],dt={class:"intro van-hairline--top"},vt=F(()=>o("p",{class:"intro-title"},"菜品介绍",-1)),ft={class:"intro-detail"},At={class:"comments"},ht={class:"comments-title flex-center"},mt={class:"comment-title-left"},gt={class:"comment-list"},pt={class:"comments-item van-hairline--bottom"},wt={class:"avatar"},Ct=["src"],Rt={class:"user-detail"},_t={class:"user-detail-name"},yt={class:"user-detail-comment"},kt={class:"time"},Jt=N({__name:"Detail",setup(t){const _=M([new URL(""+new URL("mapodoufu-bc91dc71.jpeg",import.meta.url).href,self.location).href,new URL(""+new URL("kaoyu-7326094c.jpeg",import.meta.url).href,self.location).href,new URL(""+new URL("meicaikourou-777cdd58.jpeg",import.meta.url).href,self.location).href,new URL(""+new URL("qingzhengluyu-2fa4855f.jpeg",import.meta.url).href,self.location).href]),i=z({key:"123",name:"金针云耳蒸鸡500g",propmt:"糕点每人限购3份",limitCount:3,praise:285,count:23,price:28,introduce:"金针菇不仅口感鲜美、营养丰富，还可以增强人的智力",comments:[{useName:"黄艳茹",account:"huangyanru",comment:"超级好吃的，每周必点~~",time:"12：30"},{useName:"张三",account:"zhangsan",comment:"超级好吃的，每周必点~~",time:"12：40"},{useName:"李四",account:"lisi",comment:"超级好吃的，每周必点~~",time:"12：30"}]}),{cartList:A,handleStepper:h}=Ue(),e=M(!1);function y(){e.value=!e.value}const f=p(()=>{let v=0;return A.value.forEach(u=>{u.key===i.key&&(v=u[De]||0)}),v}),{router:w,back:d}=Ee();function s(){w.push({path:"/order"})}function r(){w.push({path:"/feedback",query:{title:"填写评论",type:"comment",foodId:i.key}})}return(v,u)=>{const E=Qe,U=Le;return R(),J("div",We,[o("header",Ze,[b(U,{style:{height:"250px"},vertical:"","lazy-render":!0,loop:!0},{default:L(()=>[(R(!0),J(se,null,oe(_.value,l=>(R(),ae(E,null,{default:L(()=>[o("img",{src:l,alt:"",class:"banner-img"},null,8,$e)]),_:2},1024))),256))]),_:1}),o("div",{class:"back",onClick:u[0]||(u[0]=(...l)=>O(d)&&O(d)(...l))}),o("div",{class:"order",onClick:s})]),o("main",null,[o("section",et,[o("p",tt,C(i.name),1),o("p",at,C(i.propmt),1),o("p",st,"剩余"+C(i.count),1),o("p",ot,"￥"+C(i.praise),1),o("div",{class:"praise",onClick:y},[e.value?(R(),J("img",it)):(R(),J("img",nt)),o("span",null,C(i.praise),1)]),o("div",ct,[f.value?(R(),ae(Be,{key:1,"model-value":f.value,max:i.count,onChange:u[2]||(u[2]=l=>O(h)(i,l))},{default:L(()=>[Oe(">")]),_:1},8,["model-value","max"])):(R(),J("div",{key:0,class:"add flex-center",onClick:u[1]||(u[1]=l=>O(h)(i,1))},ut))])]),o("section",dt,[vt,o("p",ft,C(i.introduce),1)]),o("section",At,[o("p",ht,[o("span",mt,"评论 ("+C(i.comments.length)+"条)",1),o("span",{class:"comments-add",onClick:r},"我要评论")]),o("div",gt,[(R(!0),J(se,null,oe(i.comments,l=>(R(),J("div",pt,[o("div",wt,[o("img",{src:l.avatar},null,8,Ct)]),o("div",Rt,[o("p",_t,C(l.useName),1),o("p",yt,C(l.comment),1)]),o("div",kt,C(l.time),1)]))),256))])])]),o("footer",null,[b(xe)])])}}});const Bt=Ge(Jt,[["__scopeId","data-v-2bfc6215"]]);export{Bt as default};
